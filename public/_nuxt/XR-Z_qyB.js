import{c as l,a as e,q as x,m as p,v as m,l as s,s as y,t as b,x as v,g as i,o as u,C as k,D as w}from"./D8_npMnH.js";const h={class:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 py-12 px-4 sm:px-6 lg:px-8"},_={class:"max-w-md w-full space-y-8"},S={class:"rounded-md shadow-sm -space-y-px"},D={key:0,class:"rounded-md bg-red-50 dark:bg-red-900/20 p-4"},U={class:"flex"},j={class:"ml-3"},B={class:"text-sm font-medium text-red-800 dark:text-red-400"},C=["disabled"],N={key:0},P={key:1},q={__name:"login",setup(T){const g=w(),a=i(""),o=i(""),n=i(!1),d=i(""),f=async()=>{n.value=!0,d.value="";try{const t=await fetch(`${g.public.apiBase}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a.value,password:o.value})}),r=await t.json();if(!t.ok)throw new Error(r.error||"Login failed");localStorage.setItem("token",r.token),localStorage.setItem("user",JSON.stringify(r.user)),k("/")}catch(t){d.value=t.message}finally{n.value=!1}};return(t,r)=>(u(),l("div",h,[e("div",_,[r[5]||(r[5]=e("div",null,[e("h2",{class:"mt-6 text-center text-3xl font-extrabold text-gray-900 dark:text-white"}," ðŸ“¦ Diaso Inventory System "),e("p",{class:"mt-2 text-center text-sm text-gray-600 dark:text-gray-400"}," Sign in to your account ")],-1)),e("form",{class:"mt-8 space-y-6",onSubmit:x(f,["prevent"])},[e("div",S,[e("div",null,[r[2]||(r[2]=e("label",{for:"username",class:"sr-only"},"Username",-1)),p(e("input",{id:"username","onUpdate:modelValue":r[0]||(r[0]=c=>y(a)?a.value=c:null),name:"username",type:"text",required:"",class:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white dark:bg-gray-800 rounded-t-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm",placeholder:"Username"},null,512),[[m,s(a)]])]),e("div",null,[r[3]||(r[3]=e("label",{for:"password",class:"sr-only"},"Password",-1)),p(e("input",{id:"password","onUpdate:modelValue":r[1]||(r[1]=c=>y(o)?o.value=c:null),name:"password",type:"password",required:"",class:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white dark:bg-gray-800 rounded-b-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm",placeholder:"Password"},null,512),[[m,s(o)]])])]),s(d)?(u(),l("div",D,[e("div",U,[e("div",j,[e("h3",B,b(s(d)),1)])])])):v("",!0),e("div",null,[e("button",{type:"submit",disabled:s(n),class:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 dark:bg-primary-700 dark:hover:bg-primary-600 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-gray-900 focus:ring-primary-500 disabled:opacity-50 transition-colors"},[s(n)?(u(),l("span",N,"Signing in...")):(u(),l("span",P,"Sign in"))],8,C)]),r[4]||(r[4]=e("div",{class:"text-center text-sm text-gray-600 dark:text-gray-400"},[e("p",null,"Default credentials:"),e("p",{class:"font-mono"},"Username: admin | Password: admin123")],-1))],32)])]))}};export{q as default};
